{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/details-product/details-product.component.ts","./src/app/details-product/details-product.component.html","./src/app/guards/auth.guard.ts","./src/app/guards/not-logged.guard.ts","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/login/login.component.ts","./src/app/login/login.component.html","./src/app/logout/logout.component.ts","./src/app/logout/logout.component.html","./src/app/manage-stock/manage-stock.component.ts","./src/app/manage-stock/manage-stock.component.html","./src/app/nav/nav.component.ts","./src/app/nav/nav.component.html","./src/app/reporting/reporting.component.ts","./src/app/reporting/reporting.component.html","./src/app/services/products.service.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ManageStockComponent } from './manage-stock/manage-stock.component';\nimport { DetailsProductComponent } from './details-product/details-product.component';\nimport { HomeComponent } from './home/home.component';\nimport { ReportingComponent } from './reporting/reporting.component';\nimport { LoginComponent } from './login/login.component';\nimport { AuthGuard } from './guards/auth.guard';\nimport { NotLoggedGuard } from './guards/not-logged.guard';\nimport { LogoutComponent } from './logout/logout.component';\n\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'home', pathMatch: 'full' },\n  { path: 'detailsProduit', component: DetailsProductComponent, },\n  { path: 'manageStock', component: ManageStockComponent, },\n  { path: 'home', component: HomeComponent, },\n  { path: 'reporting', component: ReportingComponent, },\n  { path: 'login', component: LoginComponent },\n  { path: 'logout', component: LogoutComponent,  },\n  // { path: 'home', component: HomeComponent, canLoad: [AuthGuard] }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  readonly title = 'correctionTP1';\n}\n","\n\n<router-outlet></router-outlet>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { DetailsProductComponent } from './details-product/details-product.component';\nimport { HomeComponent } from './home/home.component';\nimport { ManageStockComponent } from './manage-stock/manage-stock.component';\nimport { ReportingComponent } from './reporting/reporting.component';\nimport { LoginComponent } from './login/login.component';\nimport { NavComponent } from './nav/nav.component';\nimport { CookieService } from 'ngx-cookie-service';\nimport { NotLoggedGuard } from './guards/not-logged.guard';\nimport { AuthGuard } from './guards/auth.guard';\nimport { LogoutComponent } from './logout/logout.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DetailsProductComponent,\n    HomeComponent,\n    ManageStockComponent,\n    ReportingComponent,\n    LoginComponent,\n    NavComponent,\n    LogoutComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  providers: [DatePipe, CookieService, AuthGuard, NotLoggedGuard],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ProductsService, Product } from '../services/products.service';\nimport { catchError, finalize } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-details-product',\n  templateUrl: './details-product.component.html',\n  styleUrls: ['./details-product.component.css']\n})\nexport class DetailsProductComponent implements OnInit, OnDestroy {\n  products: Product[] = [];\n  product: Product | null = null;\n  newPromotion: number | null = null;\n  newQuantity: number | null = null;\n  copyDiscount: number = 0;\n  loading = false;\n  error: string | null = null;\n  salePrice: number = 0;\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly productsService: ProductsService\n  ) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.getProduct(parseInt(id));\n    }\n    this.getProductsAll();\n  }\n\n  ngOnDestroy(): void {\n    // Cleanup if needed\n  }\n\n  async getProductsAll(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const products = await this.productsService.getProducts()\n        .pipe(\n          catchError(err => {\n            console.error('Failed loading products:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      this.products = products || [];\n    } catch (err) {\n      this.error = 'Erreur lors du chargement des produits';\n      console.error('Failed loading products:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getProduct(id: number): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const products = await this.productsService.getProducts().toPromise();\n      if (products) {\n        this.product = products.find(p => p.tig_id === id) || null;\n        if (this.product) {\n          this.salePrice = this.product.price * (1 - this.product.discount / 100);\n        }\n      }\n    } catch (err) {\n      this.error = 'Erreur lors du chargement du produit';\n      console.error('Failed loading product:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  onSelectProduct(item: Product): void {\n    this.getProduct(item.tig_id);\n    this.copyDiscount = item.discount;\n    this.addSale(item);\n  }\n\n  onSelectProductId(tigId: number): void {\n    this.getProduct(tigId);\n  }\n\n  async onModifyPromotion(item: Product): Promise<void> {\n    if (this.newPromotion === null) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const updatedProduct = await this.productsService.setPromotion(item.tig_id, this.newPromotion)\n        .pipe(\n          catchError(err => {\n            console.error('Failed to set promotion:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      if (updatedProduct) {\n        this.product = updatedProduct;\n        this.copyDiscount = this.newPromotion;\n        await this.getProductsAll();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors de la modification de la promotion';\n      console.error('Failed to set promotion:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async addQuantity(item: Product): Promise<void> {\n    if (this.newQuantity === null) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const updatedProduct = await this.productsService.addQuantity(item.tig_id, this.newQuantity)\n        .pipe(\n          catchError(err => {\n            console.error('Failed to add quantity:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      if (updatedProduct) {\n        this.product = updatedProduct;\n        await this.getProductsAll();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors de l\\'ajout de la quantité';\n      console.error('Failed to add quantity:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async removeQuantity(item: Product): Promise<void> {\n    if (this.newQuantity === null) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const updatedProduct = await this.productsService.removeQuantity(item.tig_id, this.newQuantity)\n        .pipe(\n          catchError(err => {\n            console.error('Failed to remove quantity:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      if (updatedProduct) {\n        this.product = updatedProduct;\n        await this.getProductsAll();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors de la suppression de la quantité';\n      console.error('Failed to remove quantity:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async addSale(item: Product): Promise<void> {\n    // TODO: Implement addSale method\n  }\n}\n","<app-nav></app-nav>\n<p class=\"text-center\">Veuillez saisir le produit dont vous voulez voir les informations</p>\n\n<div class=\"dropdown text-center margin-bottom-space\" >\n  <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\"\n    aria-expanded=\"false\">\n    {{product?.name}}\n  </button>\n  <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n    <li *ngFor=\"let item of products\">\n      <button class=\"dropdown-item\" (click)=\"onSelectProduct(item)\">{{item.name}}</button>\n    </li>\n  </ul>\n</div>\n\n<div id=\"infosProduct\" class=\"card col-sm-6 d-flex p-2 container-fluid\">\n  <h1>Page d'affichage du produit</h1>\n  <ul>\n    <li>\n      Nom : {{product?.name}}\n    </li>\n    <li>\n      Prix : {{product?.price}} €\n    </li>\n    <li>\n      Promotion : {{copyDiscount}} %\n    </li>\n    <li>\n      Prix en promotion : {{salePrice}} €\n    </li>\n    <div class=\"margin-bottom-space\" >\n    <ul class =\"container-fluid\">\n    <li class=\"raw\">\n      <div class=\"raw\">\n      <input type=\"number\" class=\"col-xs-2 margin-bottom-space\" id=\"newPromotion\" placeholder=\"Ajouter Quantité\"\n        [(ngModel)]='newQuantity'>\n      </div>\n        <div class=\"raw\">\n        <button class=\"btn btn-success horizontal-space\" \n                *ngIf=\"product\"\n                (click)=\"addQuantity(product)\">+</button>\n        <button class=\"btn btn-danger\" \n                *ngIf=\"product\"\n                (click)=\"removeQuantity(product)\">-</button>\n      </div>\n    </li>\n  </ul>\n</div>\n    <li>\n      <input type=\"number\" class=\"col-xs-2 margin-bottom-space\" id=\"newPromotion\" placeholder=\"Nouvelle Promotion\"\n        [(ngModel)]='newPromotion'>\n    </li>\n\n    <li>\n      <button class=\"btn btn-primary\" \n              *ngIf=\"product\"\n              (click)=\"onModifyPromotion(product); addSale(product)\">\n        Modifier Promotion\n      </button>\n    </li>\n    <li>\n      Quantité en stock : {{product?.quantityInStock}}\n    </li>\n  </ul>\n</div>","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n    constructor(\n        private readonly cookieService: CookieService,\n        private readonly router: Router\n    ) {}\n\n    canActivate(): boolean {\n        const token = this.cookieService.get('jwt');\n        \n        if (!token) {\n            this.router.navigate(['/login']);\n            return false;\n        }\n        \n        return true;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotLoggedGuard implements CanActivate {\n    constructor(\n        private readonly cookieService: CookieService,\n        private readonly router: Router\n    ) {}\n\n    canActivate(): boolean {\n        const token = this.cookieService.get('jwt');\n        \n        if (token) {\n            this.router.navigate(['/home']);\n            return false;\n        }\n        \n        return true;\n    }\n}","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  constructor() {}\n}\n","<app-nav></app-nav>\n<h1 class=\"text-center\">Bateau Thibault</h1>\n\n<div class=\"row justify-content-md-center\">\n    <div class=\"col-sm-4\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <h5 class=\"card-title\">Details Produit</h5>\n                <hr class=\"solid\">\n                <p class=\"card-text\">Afficher les details d'un produit</p>\n                <a routerLink=\"/detailsProduit\" class=\"btn btn-primary\">Envoyer</a>\n            </div>\n        </div>\n    </div>\n    <div class=\"col-sm-4\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <h5 class=\"card-title\">Gérer les Produit</h5>\n                <hr class=\"solid\">\n                <p class=\"card-text\">Gérer tous les produits</p>\n                <a routerLink=\"/manageStock\" class=\"btn btn-primary\">Envoyer</a>\n            </div>\n        </div>\n    </div>\n</div>","import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\nimport { EMPTY } from 'rxjs';\n\ninterface LoginResponse {\n  token?: string;\n  message?: string;\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  readonly form: FormGroup;\n  loading = false;\n  error: string | null = null;\n\n  constructor(\n    formBuilder: FormBuilder,\n    private readonly http: HttpClient,\n    private readonly router: Router\n  ) {\n    this.form = formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n\n  async submit(): Promise<void> {\n    if (!this.form.valid) {\n      this.error = 'Veuillez remplir tous les champs correctement';\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const response = await this.http.post<LoginResponse>(\n        `${environment.apiUrl}/api/login/`,\n        this.form.getRawValue(),\n        { withCredentials: true }\n      ).pipe(\n        tap(() => this.router.navigate(['/home'])),\n        catchError(err => {\n          this.error = 'Identifiants invalides';\n          console.error('Login failed:', err);\n          return EMPTY;\n        })\n      ).toPromise();\n\n      if (!response) {\n        throw new Error('No response from server');\n      }\n    } catch (err) {\n      this.error = 'Une erreur est survenue lors de la connexion';\n      console.error('Login error:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n}\n","<main class=\"form-signin\">\n  <form [formGroup]=\"form\" (submit)=\"submit()\">\n    <h1 class=\"h3 mb-3 fw-normal\" style=\"margin-bottom:20px; font-size:60px;text-align:center\">Le bateau de Thibault</h1>\n    <!-- <h4 class=\"h3 mb-3 fw-normal\" style=\"font-size: 14px; text-align:center\">Acceder au compte</h4> -->\n    <img class=\"img-centered\"src=\"../../assets/logo.png\" alt=\"logo\" >\n    <div class=\"form-floating\">\n      <input formControlName=\"email\" type=\"email\" class=\"form-control\" id=\"floatingInput\" placeholder=\"dupont@toto.com\">\n      <label for=\"floatingInput\">votre adresse email</label>\n    </div>\n    <div class=\"form-floating\">\n      <input formControlName=\"password\" type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\">\n      <label for=\"floatingPassword\">Mot de passe</label>\n    </div>\n\n    <button class=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Se connecter</button>\n  </form>\n</main>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.component.html',\n  styleUrls: ['./logout.component.css']\n})\nexport class LogoutComponent implements OnInit {\n  error: string | null = null;\n\n  constructor(\n    private readonly cookieService: CookieService,\n    private readonly router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.logout();\n  }\n\n  private logout(): void {\n    try {\n      this.cookieService.delete('jwt');\n      this.router.navigate(['/login']);\n    } catch (error) {\n      this.error = 'Une erreur est survenue lors de la déconnexion';\n      console.error('Error during logout:', error);\n      this.router.navigate(['/login']);\n    }\n  }\n}\n","<p>logout works!</p>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ProductsService, Product, Transaction, Category } from '../services/products.service';\nimport { catchError, finalize } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs';\n\ninterface CategoryWithProducts extends Category {\n  products: Product[];\n}\n\n@Component({\n  selector: 'app-manage-stock',\n  templateUrl: './manage-stock.component.html',\n  styleUrls: ['./manage-stock.component.css']\n})\nexport class ManageStockComponent implements OnInit, OnDestroy {\n  categories: CategoryWithProducts[] = [];\n  visibility: { [key: string]: boolean } = {};\n  newPromotion: { [key: number]: number } = {};\n  newQuantity: { [key: number]: number } = {};\n  prixTransaction: { [key: number]: number } = {};\n  loading = false;\n  error: string | null = null;\n\n  constructor(private readonly productsService: ProductsService) {}\n\n  ngOnInit(): void {\n    this.getCategories();\n  }\n\n  ngOnDestroy(): void {\n    // Cleanup if needed\n  }\n\n  async getCategories(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n    \n    try {\n      const categories = await this.productsService.getCategories().toPromise();\n      if (categories) {\n        this.categories = categories.map(category => ({\n          ...category,\n          products: []\n        }));\n        await this.getProductsAll();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors du chargement des catégories';\n      console.error('Failed loading categories:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getProductsAll(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n    \n    try {\n      await Promise.all(\n        this.categories.map(category => this.getProductsCategory(category.name))\n      );\n    } catch (err) {\n      this.error = 'Erreur lors du chargement des produits';\n      console.error('Failed loading products:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getProductsCategory(category: string): Promise<void> {\n    try {\n      const products = await this.productsService.getProductCategories(category).toPromise();\n      const targetCategory = this.categories.find(c => c.name === category);\n      if (targetCategory && products) {\n        targetCategory.products = products;\n      }\n    } catch (err) {\n      console.error(`Failed loading products for category ${category}:`, err);\n      throw err;\n    }\n  }\n\n  async onModifyPromotion(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      await Promise.all(\n        Object.entries(this.newPromotion)\n          .filter(([_, promotion]) => promotion)\n          .map(([tig_id, promotion]) => \n            this.productsService.setPromotion(Number(tig_id), promotion)\n              .pipe(\n                catchError(err => {\n                  console.error(`Failed to set promotion for product ${tig_id}:`, err);\n                  return EMPTY;\n                })\n              )\n              .toPromise()\n          )\n      );\n      await this.getProductsAll();\n    } catch (err) {\n      this.error = 'Erreur lors de la modification des promotions';\n      console.error('Failed to set promotions:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async addTransaction(tig_id: number, type: string): Promise<void> {\n    if (!this.newQuantity[tig_id] || this.prixTransaction[tig_id] === undefined) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const transaction: Transaction = {\n        price: this.prixTransaction[tig_id],\n        quantity: this.newQuantity[tig_id],\n        tig_id,\n        type\n      };\n      \n      await this.productsService.postTransaction(transaction)\n        .pipe(\n          catchError(err => {\n            console.error('Failed to post transaction:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      await this.getProductsAll();\n    } catch (err) {\n      this.error = 'Erreur lors de l\\'ajout de la transaction';\n      console.error('Failed to post transaction:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async addQuantity(tig_id: number): Promise<void> {\n    if (!this.newQuantity[tig_id]) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      await this.productsService.addQuantity(tig_id, this.newQuantity[tig_id])\n        .pipe(\n          catchError(err => {\n            console.error('Failed to add quantity:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      await this.getProductsAll();\n      this.newQuantity[tig_id] = 0;\n    } catch (err) {\n      this.error = 'Erreur lors de l\\'ajout de la quantité';\n      console.error('Failed to add quantity:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async removeQuantity(tig_id: number): Promise<void> {\n    if (!this.newQuantity[tig_id]) {\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    try {\n      await this.productsService.removeQuantity(tig_id, this.newQuantity[tig_id])\n        .pipe(\n          catchError(err => {\n            console.error('Failed to remove quantity:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      await this.getProductsAll();\n      this.newQuantity[tig_id] = 0;\n    } catch (err) {\n      this.error = 'Erreur lors de la suppression de la quantité';\n      console.error('Failed to remove quantity:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  onclick(item: string): void {\n    this.visibility[item] = !this.visibility[item];\n  }\n}\n","<app-nav></app-nav>\n<h1 class=\"text-center\" style=\"margin-bottom:90px\">Modification simultanée de produits</h1>\n\n<div class=\"row justify-content-md-center container-fluid\">\n  <div class=\"row\">\n    <!-- Boucle for -->\n    <div *ngFor=\"let category of categories\" class=\"col-sm-6\">\n      <button id=\"List{{category.name}}\" (click)=\"onclick(category.name)\" type=\"button\" class=\"btn btn-secondary margin-bottom-space justify-content-md-center container-fluid\">\n        <h5 class=\"card-title\" style=\"text-align:center\">{{category.name}}</h5>\n      </button>\n      <div *ngIf=\"visibility[category.name]\" class=\"card\">\n        <div class=\"card-body justify-content-md-center\">\n          <table class=\"table container-fluid justify-content-md-center\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Nom</th>\n                <th scope=\"col\">Prix</th>\n                <th scope=\"col\">Promotion</th>\n                <th scope=\"col\">Quantité</th>\n                <th scope=\"col\">Vendus</th>\n                <th scope=\"col\">Commentaires</th>\n                <th scope=\"col\">Ajout <br> Stock</th>\n                <th scope=\"col\">Prix <br> transac</th>\n                <th scope=\"col\">Ajout <br> promo</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let product of category.products\">\n                <td>{{product.name}}</td>\n                <td>{{product.price}}</td>\n                <td>{{product.discount}}</td>\n                <td>{{product.quantityInStock}}</td>\n                <td>{{product.nombre_produit_vendu}}</td>\n                <td>{{product.comments}}</td>\n                <td>\n                  <input type=\"number\" class=\"small-input\" id=\"newQuantity\" placeholder=\"...\"\n                    [(ngModel)]='newQuantity[product.tig_id]'>\n                </td>\n                <td>\n                  <input type=\"number\" class=\"small-input\" id=\"prixTransaction\" placeholder=\"€\"\n                    [(ngModel)]='prixTransaction[product.tig_id]'>\n                </td>\n                <td>\n                  <input type=\"number\" class=\"small-input\" id=\"newPromotion\" placeholder=\"%\"\n                    [(ngModel)]='newPromotion[product.tig_id]'>\n                </td>\n                <td>\n                  <div class=\"btn-group\">\n                    <button class=\"btn btn-success btn-sm\" (click)=\"addQuantity(product.tig_id)\">\n                      Ajouter\n                    </button>\n                    <button class=\"btn btn-danger btn-sm\" (click)=\"removeQuantity(product.tig_id)\">\n                      Enlever\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <!-- fin boucle for -->\n  </div>\n  \n  <!-- Bouton global pour les promotions -->\n  <div class=\"row justify-content-md-center\" style=\"margin: 30px 0\">\n    <button class=\"btn btn-primary\" style=\"width: auto\" (click)=\"onModifyPromotion()\">\n      Appliquer toutes les promotions\n    </button>\n  </div>\n</div>","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.css']\n})\nexport class NavComponent {\n  constructor() {}\n}\n","<nav class=\"navbar navbar-expand-md navbar-dark bg-dark mb-4\" style=\"padding-bottom: 0px;padding-top: 0px;\">\n  <div class=\"container-fluid\" style=\"padding-left: 0px;padding-right: 0px\">\n    <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n      <ul class=\"navbar-nav me-auto mb-2 mb-md-0\">\n        <li class=\"nav-item\">\n          <a style=\"width: 55px\" routerLinkActive=anavlink class=\"nav-link\" aria-current=\"page\" routerLink=\"/home\"> <img style =\"width:110%\" src='../assets/logo.png' alt=\"Home\"></a>\n        </li>\n        <li class=\"nav-item\">\n          <a routerLinkActive=anavlink class=\"nav-link\" aria-current=\"page\" routerLink=\"/detailsProduit\">Details Produit</a>\n        </li>\n        <li class=\"nav-item\">\n          <a routerLinkActive=anavlink class=\"nav-link\" aria-current=\"page\" routerLink=\"/manageStock\">Gérer les produits</a>\n        </li>\n        <li class=\"nav-item\">\n          <a routerLinkActive=anavlink class=\"nav-link\" aria-current=\"page\" routerLink=\"/reporting\">Statistiques</a>\n        </li>\n      </ul>\n      <ul class=\" \">\n        <li class=\"nav-item navbar-dark navbar-nav \" >\n          <a style=\"padding-bottom:0;padding-left:0 \" routerLinkActive=anavlink class=\"nav-link\" aria-current=\"page\" routerLink=\"/logout\">Se déconnecter</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>","import { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\nimport { Chart, registerables } from 'chart.js';\nimport { ProductsService, Transaction, Category } from '../services/products.service';\nimport { DatePipe } from '@angular/common';\nimport { catchError, finalize } from 'rxjs/operators';\nimport { EMPTY } from 'rxjs';\n\nChart.register(...registerables);\n\ninterface FilterOption {\n  name: string;\n}\n\n@Component({\n  selector: 'app-reporting',\n  templateUrl: './reporting.component.html',\n  styleUrls: ['./reporting.component.css']\n})\nexport class ReportingComponent implements OnInit, OnDestroy {\n  @ViewChild('myChart') myChart!: ElementRef;\n\n  chart: Chart | null = null;\n  transactions: Transaction[] = [];\n  categories: Category[] = [];\n  readonly filtrage: FilterOption[] = [\n    { name: 'all' },\n    { name: 'année' },\n    { name: 'trimestre' },\n    { name: 'mois' },\n    { name: 'semaine' },\n    { name: 'jour' }\n  ];\n  chiffresAffaire: { [key: string]: number } = {};\n  marge: { [key: string]: number } = {};\n  impot = 0;\n  loading = false;\n  error: string | null = null;\n\n  constructor(\n    private readonly productsService: ProductsService,\n    private readonly datePipe: DatePipe\n  ) {}\n\n  ngOnInit(): void {\n    this.getCategories();\n    this.getTransaction();\n  }\n\n  ngOnDestroy(): void {\n    if (this.chart) {\n      this.chart.destroy();\n    }\n  }\n\n  async getCategories(): Promise<void> {\n    try {\n      const categories = await this.productsService.getCategories().toPromise();\n      if (categories) {\n        this.categories = categories;\n      }\n    } catch (err) {\n      console.error('Failed loading categories:', err);\n    }\n  }\n\n  async getTransaction(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const transactions = await this.productsService.getTransaction()\n        .pipe(\n          catchError(err => {\n            console.error('Failed loading transactions:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      if (transactions) {\n        this.transactions = transactions;\n        await this.getchiffresAffaire(\"année\");\n        await this.getMarge();\n        this.updateChart();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors du chargement des transactions';\n      console.error('Failed loading transactions:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getTransactionCategory(categoryId: string): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const transactions = await this.productsService.getTransactionCategory(categoryId)\n        .pipe(\n          catchError(err => {\n            console.error('Failed loading transactions by category:', err);\n            return EMPTY;\n          })\n        )\n        .toPromise();\n      \n      if (transactions) {\n        this.transactions = transactions;\n        await this.getchiffresAffaire(\"année\");\n        await this.getMarge();\n        this.updateChart();\n      }\n    } catch (err) {\n      this.error = 'Erreur lors du chargement des transactions par catégorie';\n      console.error('Failed loading transactions by category:', err);\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  async getchiffresAffaire(period: string): Promise<void> {\n    this.chiffresAffaire = {};\n    \n    this.transactions.forEach(transaction => {\n      const date = new Date(transaction.created || '');\n      let key = '';\n      \n      switch (period) {\n        case \"année\":\n          key = date.getFullYear().toString();\n          break;\n        case \"mois\":\n          key = `${date.getFullYear()}-${date.getMonth() + 1}`;\n          break;\n        case \"jour\":\n          key = date.toISOString().split('T')[0];\n          break;\n      }\n      \n      if (key) {\n        this.chiffresAffaire[key] = (this.chiffresAffaire[key] || 0) + transaction.price * transaction.quantity;\n      }\n    });\n  }\n\n  async getMarge(): Promise<void> {\n    this.marge = {};\n    \n    this.transactions.forEach(transaction => {\n      const date = new Date(transaction.created || '');\n      const key = date.getFullYear().toString();\n      \n      if (transaction.type === 'Sale') {\n        this.marge[key] = (this.marge[key] || 0) + transaction.price * transaction.quantity;\n      }\n    });\n  }\n\n  getImpot(): void {\n    this.impot = this.marge[Object.keys(this.marge)[0]] * 0.2;\n  }\n\n  updateChart(): void {\n    if (this.chart) {\n      this.chart.destroy();\n    }\n\n    const ctx = this.myChart.nativeElement.getContext('2d');\n    this.chart = new Chart(ctx, {\n      type: 'line',\n      data: {\n        labels: Object.keys(this.chiffresAffaire),\n        datasets: [\n          {\n            label: 'Chiffres d\\'affaires',\n            data: Object.values(this.chiffresAffaire),\n            borderColor: 'rgb(75, 192, 192)',\n            tension: 0.1\n          },\n          {\n            label: 'Marge',\n            data: Object.values(this.marge),\n            borderColor: 'rgb(255, 99, 132)',\n            tension: 0.1\n          }\n        ]\n      },\n      options: {\n        responsive: true,\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  }\n}\n","<app-nav></app-nav>\n<h1 class=\"text-center\" style=\"margin-bottom:90px\">Statistiques</h1>\n<div class=\"dropdown text-center margin-bottom-space\">\n    <button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\"\n        aria-expanded=\"false\">\n        Selectionner la category\n    </button>\n    <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n        <li *ngFor=\"let item of categories\">\n            <button class=\"dropdown-item\" (click)=\"getTransactionCategory(item.id.toString())\">{{item.name}}</button>\n        </li>\n    </ul>\n</div>\n<div class=\"dropdown text-center margin-bottom-space\" >\n<button class=\"btn btn-light dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\"\n    aria-expanded=\"false\">\n    Selectionner le type de filtre\n</button>\n<ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n    <li *ngFor=\"let item of filtrage\">\n        <button class=\"dropdown-item\" (click)=\"getchiffresAffaire(item.name)\">{{item.name}}</button>\n    </li>\n</ul>\n</div>\n<p>Chiffre d'affaires : {{chiffresAffaire}}</p>\n<p>Resultat comptable : {{marge}}</p>\n<p>Impot sur les societes : {{impot}}</p>\n<canvas id=\"myChart\">{{ chart }}</canvas>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\nexport interface Product {\n  tig_id: number;\n  name: string;\n  price: number;\n  discount: number;\n  quantityInStock: number;\n  nombre_produit_vendu: number;\n  comments: string;\n}\n\nexport interface Transaction {\n  price: number;\n  quantity: number;\n  tig_id: number;\n  type: string;\n  created?: string;\n}\n\nexport interface Category {\n  id: number;\n  name: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductsService {\n  private readonly urlApi = environment.apiUrl;\n\n  constructor(private readonly http: HttpClient) {}\n\n  getProducts(): Observable<Product[]> {\n    return this.http.get<Product[]>(`${this.urlApi}/infoproducts/`);\n  }\n\n  getCategories(): Observable<Category[]> {\n    return this.http.get<Category[]>(`${this.urlApi}/categories/`);\n  }\n\n  setPromotion(id: number, discount: number): Observable<Product> {\n    return this.http.put<Product>(`${this.urlApi}/modifyDiscount/${id}/${discount}/`, {});\n  }\n\n  addQuantity(id: number, quantity: number): Observable<Product> {\n    return this.http.put<Product>(`${this.urlApi}/incrementStock/${id}/${quantity}/`, {});\n  }\n\n  removeQuantity(id: number, quantity: number): Observable<Product> {\n    return this.http.put<Product>(`${this.urlApi}/decrementStock/${id}/${quantity}/`, {});\n  }\n\n  getProductCategories(category: string): Observable<Product[]> {\n    return this.http.get<Product[]>(`${this.urlApi}/${category}/`);\n  }\n\n  postTransaction(trans: Transaction): Observable<Transaction> {\n    return this.http.post<Transaction>(`${this.urlApi}/transactions/`, trans);\n  }\n\n  getTransaction(): Observable<Transaction[]> {\n    return this.http.get<Transaction[]>(`${this.urlApi}/transactions/`);\n  }\n\n  getTransactionCategory(category: string): Observable<Transaction[]> {\n    return this.http.get<Transaction[]>(`${this.urlApi}/transactions/${category}/`);\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:8000'\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["RouterModule","ManageStockComponent","DetailsProductComponent","HomeComponent","ReportingComponent","LoginComponent","LogoutComponent","routes","path","redirectTo","pathMatch","component","AppRoutingModule","forRoot","imports","i1","exports","AppComponent","constructor","title","selectors","decls","vars","template","AppComponent_Template","rf","ctx","i0","ɵɵelement","BrowserModule","HttpClientModule","FormsModule","ReactiveFormsModule","DatePipe","NavComponent","CookieService","NotLoggedGuard","AuthGuard","AppModule","bootstrap","declarations","catchError","EMPTY","ɵɵelementStart","ɵɵlistener","DetailsProductComponent_li_7_Template_button_click_1_listener","restoredCtx","ɵɵrestoreView","_r6","item_r4","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","onSelectProduct","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","name","DetailsProductComponent_button_26_Template_button_click_0_listener","_r8","ctx_r7","addQuantity","product","DetailsProductComponent_button_27_Template_button_click_0_listener","_r10","ctx_r9","removeQuantity","DetailsProductComponent_button_31_Template_button_click_0_listener","_r12","ctx_r11","onModifyPromotion","addSale","route","productsService","products","newPromotion","newQuantity","copyDiscount","loading","error","salePrice","ngOnInit","id","snapshot","paramMap","get","getProduct","parseInt","getProductsAll","ngOnDestroy","_this","_asyncToGenerator","getProducts","pipe","err","console","toPromise","_this2","find","p","tig_id","price","discount","item","onSelectProductId","tigId","_this3","updatedProduct","setPromotion","_this4","_this5","ɵɵdirectiveInject","ActivatedRoute","i2","ProductsService","consts","DetailsProductComponent_Template","ɵɵtemplate","DetailsProductComponent_li_7_Template","ɵɵtwoWayListener","DetailsProductComponent_Template_input_ngModelChange_24_listener","$event","ɵɵtwoWayBindingSet","DetailsProductComponent_button_26_Template","DetailsProductComponent_button_27_Template","DetailsProductComponent_Template_input_ngModelChange_29_listener","DetailsProductComponent_button_31_Template","ɵɵtextInterpolate1","ɵɵproperty","ɵɵtwoWayProperty","quantityInStock","cookieService","router","canActivate","token","navigate","ɵɵinject","Router","factory","ɵfac","providedIn","HomeComponent_Template","Validators","tap","environment","formBuilder","http","form","group","email","required","password","submit","valid","response","post","apiUrl","getRawValue","withCredentials","Error","FormBuilder","HttpClient","i3","LoginComponent_Template","LoginComponent_Template_form_submit_1_listener","logout","delete","LogoutComponent_Template","Category","ManageStockComponent_div_5_div_4_tr_32_Template_input_ngModelChange_14_listener","product_r4","ManageStockComponent_div_5_div_4_tr_32_Template_input_ngModelChange_16_listener","prixTransaction","ManageStockComponent_div_5_div_4_tr_32_Template_input_ngModelChange_18_listener","ctx_r8","ManageStockComponent_div_5_div_4_tr_32_Template_button_click_21_listener","ManageStockComponent_div_5_div_4_tr_32_Template_button_click_23_listener","ctx_r10","nombre_produit_vendu","comments","ctx_r3","ManageStockComponent_div_5_div_4_tr_32_Template","category_r1","ManageStockComponent_div_5_Template_button_click_1_listener","_r13","ctx_r12","onclick","ManageStockComponent_div_5_div_4_Template","ɵɵpropertyInterpolate1","ctx_r0","visibility","categories","getCategories","map","category","Promise","all","getProductsCategory","getProductCategories","targetCategory","c","Object","entries","filter","_","promotion","Number","addTransaction","type","undefined","transaction","quantity","postTransaction","_this6","_this7","ManageStockComponent_Template","ManageStockComponent_div_5_Template","ManageStockComponent_Template_button_click_7_listener","NavComponent_Template","Chart","registerables","ReportingComponent_li_7_Template_button_click_1_listener","_r4","item_r2","getTransactionCategory","toString","ReportingComponent_li_12_Template_button_click_1_listener","_r7","item_r5","ctx_r6","getchiffresAffaire","register","datePipe","chart","transactions","filtrage","chiffresAffaire","marge","impot","getTransaction","destroy","getMarge","updateChart","categoryId","period","forEach","date","Date","created","key","getFullYear","getMonth","toISOString","split","getImpot","keys","myChart","nativeElement","getContext","data","labels","datasets","label","values","borderColor","tension","options","responsive","scales","y","beginAtZero","viewQuery","ReportingComponent_Query","ReportingComponent_li_7_Template","ReportingComponent_li_12_Template","urlApi","put","trans","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}